<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Monitor Traineeship</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

    <style>
        body {
            background: linear-gradient(120deg, #f5f7fa, #e2e8f0);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .topbar {
            width: 100%;
            background-color: #4a90e2;
            padding: 1rem 2rem;
            color: white;
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 2rem;
            border-bottom-left-radius: 0.4rem;
            border-bottom-right-radius: 0.4rem;
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }

        .page-container {
            max-width: 900px;
            margin: auto;
            background: #fff;
            padding: 2.5rem;
            border-radius: 1.25rem;
            box-shadow: 0 15px 35px rgba(0,0,0,0.08);
        }

        /* BLUE Evaluation Card */
        .evaluation-card {
            background-color: #4a90e2 !important;
            color: white !important;
            border: none;
            border-radius: 1rem;
            box-shadow: 0 8px 22px rgba(0,0,0,0.10);
        }

        .evaluation-card p {
            color: white !important;
        }

        h2, h4 {
            font-weight: 600;
            color: #333;
        }

        /* Wider Pass & Fail buttons */
        .btn-pass,
        .btn-fail {
            width: 170px;          /* WIDER */
            padding: 0.75rem 2rem; /* TALLER */
            border-radius: 50px;
            font-size: 1.05rem;
            color: white;
            border: none;
            transition: 0.2s;
        }

        .btn-pass {
            background-color: #28a745;
        }
        .btn-pass:hover {
            background-color: #218838;
            transform: translateY(-2px);
        }

        .btn-fail {
            background-color: #dc3545;
        }
        .btn-fail:hover {
            background-color: #c82333;
            transform: translateY(-2px);
        }

        .btn-back {
            background-color: #6c757d;
            text-decoration: none !important;
            border-radius: 50px;
            padding: 0.55rem 1.5rem;
            color: white;
            transition: 0.2s;
        }

        .btn-back:hover {
            background-color: #5a6268;
            transform: translateY(-2px);
        }

        .label-bold {
            font-weight: 600;
        }
    </style>
</head>

<body>

<div class="topbar">
    Monitoring Traineeship
</div>

<div class="page-container">

    <h2 th:text="'Monitoring: ' + ${position.title}"></h2>
    <hr>

    <!-- Company Evaluations -->
    <h4>Company Evaluations</h4>

    <div th:if="${#lists.isEmpty(companyEvaluations)}">
        <p class="text-muted fst-italic">No company evaluations yet.</p>
    </div>

    <div th:each="ev : ${companyEvaluations}" class="card evaluation-card mb-3">
        <div class="card-body">
            <p><span class="label-bold">Motivation:</span> <span th:text="${ev.motivation}"></span></p>
            <p><span class="label-bold">Efficiency:</span> <span th:text="${ev.efficiency}"></span></p>
            <p><span class="label-bold">Effectiveness:</span> <span th:text="${ev.effectiveness}"></span></p>
        </div>
    </div>

    <hr>

    <!-- Professor Evaluations -->
    <h4>Professor Evaluations</h4>

    <div th:if="${#lists.isEmpty(professorEvaluations)}">
        <p class="text-muted fst-italic">No professor evaluations yet.</p>
    </div>

    <div th:each="ev : ${professorEvaluations}" class="card evaluation-card mb-3">
        <div class="card-body">
            <p><span class="label-bold">Motivation:</span> <span th:text="${ev.motivation}"></span></p>
            <p><span class="label-bold">Efficiency:</span> <span th:text="${ev.efficiency}"></span></p>
            <p><span class="label-bold">Effectiveness:</span> <span th:text="${ev.effectiveness}"></span></p>
            <p><span class="label-bold">Facilities:</span> <span th:text="${ev.facilities}"></span></p>
            <p><span class="label-bold">Guidance:</span> <span th:text="${ev.guidance}"></span></p>
        </div>
    </div>

    <hr>

    <!-- Pass / Fail Buttons -->
    <div class="text-center mt-3 d-flex justify-content-center">

        <form th:action="@{/committee/pass/{positionId}(positionId=${position.id})}" method="post" class="mx-3">
            <button type="submit" class="btn-pass">Pass</button>
        </form>

        <form th:action="@{/committee/fail/{positionId}(positionId=${position.id})}" method="post" class="mx-3">
            <button type="submit" class="btn-fail">Fail</button>
        </form>

    </div>

    <hr>

    <div class="text-center">
        <a th:href="@{/committee/list_assigned_traineeships}" class="btn-back">Back to Assigned Positions</a>
    </div>

</div>

</body>
</html>
